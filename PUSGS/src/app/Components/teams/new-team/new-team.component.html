<app-main-nav>

    <!-- <div class="novit">
    <p class="nazivp">Name:
        <input class="naziv" type="text" placeholder="Name of team">
    </p>
    <div class="naslov">
        Clanovi ekipa memberi
    </div>
    <div class="choosem">
        Choose members:
    </div>
    <div class="tabela">
        <div class="filter">
            <mat-form-field>
                <input matInput class="filterr" (keyup)="applyFilter($event)" placeholder="Filter" #input>
            </mat-form-field>
        </div>

        <div class="mat-elevation-z8">
            <table mat-table [dataSource]="dataSource" matSort>

                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
                    <td mat-cell *matCellDef="let row"> {{row.id}} </td>
                </ng-container>

                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
                    <td mat-cell *matCellDef="let row"> {{row.name}} </td>
                </ng-container>

                <ng-container matColumnDef="lastname">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Lastname </th>
                    <td mat-cell *matCellDef="let row"> {{row.lastname}} </td>
                </ng-container>

                <ng-container matColumnDef="add">
                    <th mat-header-cell *matHeaderCellDef> Add </th>
                    <td mat-cell *matCellDef="let row"> <button mat-button (click)="getIdAdd(row.id)">
                        <mat-icon>perm_identity</mat-icon>
                        </button></td>
                </ng-container>


                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
                </tr>
            </table>

            <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
        </div>
    </div>
</div>

<button type="button" class="btn btn-primary">Add</button> -->
    <div class="novitt">
        <form [formGroup]="courseForm" (ngSubmit)="onSubmit()">
            <div class="col-md-6">
                <h2>New Team</h2>
                <hr>
                <div class="row">
                    <div class="col-sm-6 form-group"
                        [ngClass]="{'has-error' : courseForm.get('name')?.errors && (courseForm.get('name')?.touched || courseForm.get('name')?.dirty)}">
                        <label for="name" class="name control-label">Name</label>
                        <input type="text" id="usernameunos" class="form-control" placeholder="Name of team"
                            formControlName="name">
                        <div class="help-block"
                            *ngIf="courseForm.get('name')?.errors && courseForm.get('name')?.touched || courseForm.get('name')?.dirty">
                            <div *ngIf="courseForm.controls.name.errors?.required">
                                Name is required!
                            </div>
                            <div *ngIf="courseForm.controls.name.errors?.minlength">
                                Name must be greater then 2 characters!
                            </div>
                            <div *ngIf="courseForm.controls.name.errors?.maxlength">
                                Name must be less then 20 characters!
                            </div>
                        </div>
                    </div>
                </div>
                <div class="dd row">

                    <div cdkDropListGroup>
                        <div class="example-container">
                            <h2>Choose team members</h2>

                            <div cdkDropList [cdkDropListData]="todo" class="example-list"
                                (cdkDropListDropped)="drop($event)">
                                <div class="example-box" *ngFor="let item of todo" cdkDrag>{{item.name}}
                                    {{item.lastname}}
                                </div>
                            </div>
                            <div *ngIf="todo.length == 0" style="color: red;">Nema registrovanih clanova tima!</div>
                        </div>

                        <div class="example-container">
                            <h2>Choosen members</h2>

                            <div cdkDropList [cdkDropListData]="done" class="example-list"
                                (cdkDropListDropped)="drop($event)">
                                <div class="example-box" *ngFor="let item of done" cdkDrag>{{item.name}}
                                    {{item.lastname}}
                                </div>                 
                            </div>
                            <div *ngIf="done.length == 0" style="color: red;">Morate odabrati clanove tima!</div>
                        </div>
                    </div>
                </div>
                <!-- <ng-multiselect-dropdown class="msdd" formControlName="users" [placeholder]="'Select users'"
                    [settings]="dropdownSettings" [data]="dropdownList" (onSelect)="onItemSelect($event)">
                </ng-multiselect-dropdown> -->

                <!-- <select multiple class="ui fluid dropdown" formControlName="users">
                    <option *ngFor="let item of userss" [ngValue]="item">{{item}}</option>
                </select> -->
                <!-- </div> -->

                <div class="dgmd row">
                    <div class="col-1">
                        <button [disabled]="!courseForm.valid || done.length === 0"  class="add" type="submit">Add</button>
                    </div>
                    <div class="col-1">
                        <button class="cancel" (click)="onCancel()" type="button">Cancel</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</app-main-nav>